<!DOCTYPE html> 
<html lang="en">

<!--Name Überschrift ändern?-->
<head>
    <link rel="stylesheet" href="/static/style.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>todo app</title>
</head>
<body>

<h1>THINGS TO BE DONE</h1>


    <form action="/add" method="post">
        <div>
            <input type="text" name="title" placeholder="Enter Todo... "maxlength="40"> <!--Taskeingabe (Text bis 40 Zeichen) -->
            <br>
            <input type="date" name="due" placeholder="Enter date... " max="2030-12-31"> <!--Datumseingabe (später als 2030 nicht möglich) -->
            <br>
            <select name="category" id="category">
                <option value="Personal">Personal</option>
                <option value="Work">Work</option>
                <option value="Urgent">Urgent</option>
            </select>
            <br> 
            <button type="submit">Add</button>
        </div>
    </form>


<!-- Links für Kategorie- Filter -->
<div class="category-links">
    <a href="/">All Tasks</a> <!-- Ansicht für alle Tasks -->
    <a href="/category/Personal">Personal</a> <!-- Ansicht für Kategorie Personal -->
    <a href="/category/Work">Work</a> <!-- Ansicht für Kategorie Work -->
    <a href="/category/Urgent">Urgent</a> <!-- Ansicht für Kategorie Urgent -->
</div>


<!--Jinja for loop für tasks-->
{% for todo in todo_list %}
    <div class="todo-item">
        <p>{{ todo.id }} | {{ todo.title }}</p>
        {% if todo.due %}
            <p>Due: {{ todo.due.strftime('%Y-%m-%d') }}</p>
        {% endif %}
        <p>Category: {{ todo.category }}</p>
        <div class="todo-status">
            {% if todo.complete == False %}
                <span>Not Completed</span>   
            {% else %}
                <span>Completed</span>
            {% endif %}
            <a href="/update/{{ todo.id }}" class="update">Modify Status</a>
            <a href="/delete/{{ todo.id }}" class="delete">Delete</a>
        </div>
    </div>
{% endfor %}


<footer>
    <p>© 2023 One Great Todo App. All rights reserved.</p>
</footer>


</body>
</html>